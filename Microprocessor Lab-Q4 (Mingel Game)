.MODEL TINY
.DATA
PROMPT DB 'Enter a number (2 or 3): $'
ERROR_MSG DB 0DH, 0AH,
N DB 0 
.CODE
MAIN PROC
    MOV AX, @DATA
    MOV DS, AX

  
    LEA DX, PROMPT
    MOV AH, 09H
    INT 21H

   
    MOV AH, 01H
    INT 21H
    SUB AL, 30H  
    MOV N, AL 
    
    MOV AH, 02H
    MOV DL, 10
    INT 21H
    
    MOV AH, 02
    MOV DL, 13
    INT 21H

    
    CMP N, 2
    JE PATTERN_TWO
    CMP N, 3
    JE PATTERN_THREE

   
    LEA DX, ERROR_MSG
    MOV AH, 09H
    INT 21H
    JMP END_PROGRAM

PATTERN_THREE:
    
    MOV AH, 02H
    MOV CL, 5
    XOR DL, DL
    CALL PRINT_LINE

    MOV CL, 3
    MOV DL, 2
    CALL PRINT_LINE

    MOV CL, 1
    MOV DL, 4
    CALL PRINT_LINE

    MOV CL, 3
    MOV DL, 2
    CALL PRINT_LINE

    MOV CL, 5
    XOR DL, DL
    CALL PRINT_LINE
    JMP END_PROGRAM

PATTERN_TWO:
   
    MOV AH, 02H
    MOV CL, 3
    XOR DL, DL
    CALL PRINT_LINE

    MOV CL, 1
    MOV DL, 2
    CALL PRINT_LINE

    MOV CL, 3
    XOR DL, DL
    CALL PRINT_LINE
    JMP END_PROGRAM

PRINT_LINE:
    MOV CH, DL
PRINT_SPACES:
    TEST CH, CH
    JE PRINT_DIGITS
    MOV DL, 20H
    INT 21H
    DEC CH
    JMP PRINT_SPACES

PRINT_DIGITS:
    MOV BL, CL
DIGIT_LOOP:
    MOV DL, BL
    ADD DL, 30H
    INT 21H

    MOV DL, 20H
    INT 21H

    DEC BL
    JNZ DIGIT_LOOP

    MOV DL, 13
    INT 21H
    MOV DL, 10
    INT 21H

    RET

END_PROGRAM:
    MOV AH, 4CH
    INT 21H
END
